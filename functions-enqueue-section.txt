// Enqueue styles and scripts
function happyturtle_fse_styles() {
    // Main theme style
    wp_enqueue_style(
        'happyturtle-fse-style',
        get_template_directory_uri() . '/assets/style.css',
        array(),
        '3.0.0'
    );

    // Turtle animation CSS
    wp_enqueue_style(
        'happyturtle-turtle-animation',
        get_template_directory_uri() . '/assets/css/turtle-animation.css',
        array('happyturtle-fse-style'),
        '1.0.0'
    );

    // Three.js library (CDN r128)
    wp_enqueue_script(
        'threejs',
        'https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js',
        array(),
        '0.128.0',
        true
    );

    // GLTFLoader for Three.js
    wp_enqueue_script(
        'threejs-gltf-loader',
        'https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js',
        array('threejs'),
        '0.128.0',
        true
    );

    // Splash screen script
    wp_enqueue_script(
        'happyturtle-splash',
        get_template_directory_uri() . '/assets/splash.js',
        array(),
        '2.2.0',
        true
    );

    // Scroll animations script
    wp_enqueue_script(
        'happyturtle-scroll-animations',
        get_template_directory_uri() . '/assets/scroll-animations.js',
        array(),
        '1.0.0',
        true
    );

    // Turtle animation script (depends on Three.js and GLTFLoader)
    wp_enqueue_script(
        'happyturtle-turtle-animation',
        get_template_directory_uri() . '/assets/js/turtle-animation.js',
        array('threejs', 'threejs-gltf-loader'),
        '1.0.0',
        true
    );

    // Pass theme URL to JavaScript
    wp_localize_script('happyturtle-splash', 'htbData', array(
        'themeUrl' => get_template_directory_uri()
    ));

    // Also pass to turtle animation script
    wp_localize_script('happyturtle-turtle-animation', 'htbData', array(
        'themeUrl' => get_template_directory_uri()
    ));
}
add_action('wp_enqueue_scripts', 'happyturtle_fse_styles');
